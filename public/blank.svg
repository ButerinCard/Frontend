<svg
    viewBox="0 0 100 140"
    shape-rendering="geometricPrecision"
    text-rendering="geometricPrecision"
    image-rendering="optimizeQuality"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    style="font-size: 23%"
>
    <script>
	
	</script>
    <defs>
        <image href="_DATA_URI_BUTERIN_" id="vitalikImage" x="10" y="16.82842712475" width="80" />
    </defs>
    <style>

	</style>
    <defs>
        <clipPath id="frameClip">
            <rect width="100" height="126" />
        </clipPath>
        <clipPath id="frameClipBottom">
            <rect y="126" width="100" height="14" />
        </clipPath>
        <filter id="blur">
            <feGaussianBlur in="SourceGraphic" stdDeviation=".2" />
        </filter>
        <pattern id="patternBlurry" width="100" height="140" patternUnits="userSpaceOnUse">
            <g filter="url(#blur)">
                <rect id="frameBlurry" width="100" height="126" fill="#e9e9e97c" />
                <rect y="126" width="100" height="14" />
            </g>
        </pattern>
        <filter id="titleShadow">
            <feDropShadow dx="-.2" dy="-.2" stdDeviation="0" flood-color="white" flood-opacity="1" />
        </filter>
        <filter id="objectShadow">
            <feDropShadow dx=".2" dy=".2" stdDeviation="0" flood-color="black" flood-opacity="1" />
        </filter>
        <filter id="shadow">
            <feDropShadow
                dx="-.2"
                dy="-.2"
                stdDeviation="0"
                flood-color="black"
                flood-opacity=".5"
                result="perimeter"
            />
            <feDropShadow
                dx=".5"
                dy=".5"
                stdDeviation=".3"
                flood-color="black"
                flood-opacity="1"
                result="shadowPerimeter"
            />
            <feMerge>
                <feMergeNode in="perimeter" />
                <feMergeNode in="shadowPerimeter" />
            </feMerge>
        </filter>
        <filter id="bevel">
            <feDropShadow
                dx=".3"
                dy=".3"
                stdDeviation=".3"
                flood-color="white"
                flood-opacity=".7"
                result="whiteBevel"
            />
            <feDropShadow
                dx="-.3"
                dy="-.3"
                stdDeviation=".3"
                flood-color="black"
                flood-opacity=".7"
                result="blackBevel"
            />
            <feMerge>
                <feMergeNode in="whiteBevel" />
                <feMergeNode in="blackBevel" />
            </feMerge>
        </filter>
        <filter id="blur1">
            <feGaussianBlur stdDeviation=".4" />
        </filter>
        <filter id="glow">
            <feGaussianBlur in="SourceGraphic" stdDeviation=".5" result="blurredColor" />
            <feGaussianBlur in="SourceAlpha" stdDeviation=".25" result="blurredAlpha" />
            <feMerge>
                <feMergeNode in="blurredColor" />
                <feMergeNode in="blurredColor" />
                <feMergeNode in="blurredAlpha" />
                <feMergeNode in="SourceGraphic" />
            </feMerge>
        </filter>
        <style>
            .fontTitle {
				font-family: "Orbitron";
				filter: url(#titleShadow);
			}
			.fontQuote {
				font-family: "Ubuntu Mono";
				font-style: italic;
				font-size: 1em;
				opacity: .9;
			}
        </style>
        <path
            id="framePath"
            stroke-linejoin="round"
            d="M94 6
			H6
			V15.82842712475
			l2 2
			V80.1084271247
			l-3 3
			v6
			l3 3
			V134
			H92
			V92.1084271247
			l3 -3
			v-6
			l-3 -3
			V17.82842712475
			l2 -2
			Z"
        />
        <clipPath id="imageClip">
            <path id="imagePath" d="M10 16.82842712475 v64.28 H90 V16.82842712475 Z" />
        </clipPath>
        <clipPath id="imageClipOutside">
            <path id="imagePathOutside" d="M10 16.82842712475 v64.28 H90 V16.82842712475 Z M0 0 H100 V140 H0 V0" />
        </clipPath>
        <clipPath id="titleClip">
            <path id="titlePath" d="M8 8 V14.82842712475 H92 V8 Z" />
        </clipPath>
        <clipPath id="titleClipOutside">
            <path id="titlePathOutside" d="M8 8 V14.82842712475 H92 V8 Z M0 0 H100 V140 H0 V0" />
        </clipPath>
        <clipPath id="subtitleClip">
            <path id="subtitlePath" d="M7 83.1084271247 V88.1084271247 H93 V83.1084271247 Z" />
        </clipPath>
        <clipPath id="subtitleClipOutside">
            <path
                id="subtitlePathOutside"
                d="M7 83.1084271247 V88.1084271247 H93 V83.1084271247 Z M0 0 H100 V140 H0 V0"
            />
        </clipPath>
        <clipPath id="clipBrokenParts">
            <path id="cardNumberPathOutside" d="M54 126 l3 -3 H100 V140 H54 Z M0 0 V140 H100 V0 H0" />
        </clipPath>
        <clipPath id="descriptionClip">
            <path id="descriptionPath" d="M10 91.1084271247 v40.8915728753 H90 V91.1084271247 Z" />
        </clipPath>
        <clipPath id="descriptionWithoutBrokenParts" clip-path="url(#clipBrokenParts)">
            <use href="#descriptionPath" />
        </clipPath>
        <clipPath id="descriptionWithCardNumberClip" clip-path="url(#descriptionClip)">
            <path id="cardNumberPath" d="M54 126 l3 -3 H100 V140 H54 Z" />
        </clipPath>
        <clipPath id="descriptionClipOutside">
            <path
                id="descriptionPathOutside"
                d="M10 91.1084271247 v40.8915728753 H90 V91.1084271247 Z M0 0 H100 V140 H0 V0"
            />
        </clipPath>
        <g id="eth_pencil" fill="none" stroke="black" stroke-width="10">
            <path
                d="m 104.19706,203.28206 c -5.081648,9.98694 -9.123288,20.72948 -9.225735,32.19408 0.49463,7.35606 0.768722,14.84247 0.770149,22.29753 -1.408069,5.98919 -3.682751,12.31519 -2.747577,18.4597 l 0.735778,0.52552"
            />
            <path
                d="m 24.984665,154.12231 c -1.525047,5.31228 2.46714,11.22483 4.380473,16.23843 3.342369,4.91671 5.729137,10.17567 9.043828,15.06698 3.66597,5.19949 5.755352,11.20815 9.242878,16.52126"
            />
            <path
                d="m 24.984685,153.8392 c 6.712314,3.21289 12.118998,9.16944 18.970804,12.81455 10.547482,6.7469 19.904993,14.59315 31.009415,20.4596 6.8552,2.15035 13.951021,4.25522 20.127711,8.04928 5.739875,8.23793 14.533655,-0.0943 19.323815,-4.56494 5.05947,-4.46247 12.72671,-4.31822 18.51808,-7.89047 18.46988,-6.5365 37.83896,-10.40402 55.73998,-18.63217 8.65957,-1.9952 -1.55654,8.03445 -3.17968,11.09196 -8.50443,9.06024 -16.74598,18.40042 -24.15648,28.35663 -9.54979,7.65004 -16.04387,18.6023 -26.74964,24.92316 -8.15097,9.22057 -18.07838,16.89695 -25.13811,27.06402 -4.80542,6.8977 -7.40117,16.53693 -14.790923,20.94999 -2.772873,2.10786 -0.154927,10.5429 -6.624485,8.15679 -8.477314,-7.99486 -11.746603,-19.52722 -17.154297,-29.55112 -3.146184,-4.91437 -3.80078,-11.53725 -7.135951,-16.68274 -5.057249,-6.19629 -6.92886,-14.33945 -11.588967,-20.88375 -0.550162,-3.67191 -8.873297,-14.35081 -3.203218,-15.03975 l 1.362535,0.33647"
            />
            <path
                d="m 35.203697,142.40766 c 8.382578,8.34732 18.467563,14.79261 29.227584,19.92803 8.858798,5.51383 17.140636,12.22188 26.078889,17.46195 l 1.052866,0.17653"
            />
            <path
                d="m 105.00354,114.93991 c 1.88323,6.1646 -1.11891,14.07728 -1.52668,20.76255 -2.54721,7.41558 -2.6007,15.50964 -5.963481,22.70148 -2.732933,7.18745 -2.171384,15.43517 -5.76715,22.17634 -1.079075,3.59665 2.984096,2.60787 3.844155,5.21078"
            />
            <path
                d="m 105.18908,114.69758 c -9.95273,4.19801 -18.71336,11.2269 -29.418337,13.90526 -11.598907,3.63779 -23.602831,6.3971 -34.682674,11.50466 -11.606987,7.01591 -3.481446,-7.19826 -1.655449,-12.36268 C 44.625206,113.95997 52.730689,101.55396 60.218267,88.926095 65.306441,78.34661 71.057427,68.131287 78.255735,58.832479 86.18584,44.654665 90.345084,28.821771 95.67015,13.593549 c 0.647718,-0.792603 1.695379,-0.955242 2.582617,-1.335429"
            />
            <path
                d="m 90.076758,188.29576 c 8.660247,-3.7668 18.257012,-4.52583 27.126802,-8.02759 15.48221,-4.84254 30.25439,-11.5829 45.70679,-16.36323 4.9402,-1.27368 23.3023,-7.804 8.79443,-9.55038 -12.47361,-4.21391 -23.20693,-12.51286 -34.61764,-18.94685 -9.13666,-6.5688 -18.99775,-11.84451 -27.21722,-19.62868 -8.05747,0.36849 -3.52305,-10.06264 -6.56423,-14.85583 -1.05619,-13.081374 0.87982,-26.046042 0.13044,-39.14188 -0.994,-9.005394 -3.19555,-17.819087 -4.007827,-26.821659 0.375213,-7.229551 1.297957,-14.767441 0.211922,-21.846885 -1.884137,-0.357076 -1.589114,-2.92034 0.09765,-3.1166535"
            />
            <path
                d="m 100.17144,1.9578558 c -4.359326,9.0824762 6.42537,9.3933852 8.25395,16.9251212 6.8798,5.80382 6.22982,16.882707 14.49984,21.570429 5.89875,7.449487 10.90859,15.962243 13.88498,25.04432 2.39644,12.812766 10.32597,23.567299 15.81598,35.102474 7.004,14.14483 16.37308,27.13276 24.24874,40.9192 2.82405,5.04263 6.04632,9.8248 8.02177,15.26896"
            />
        </g>
        <path
            id="eth_top_right"
            d="m0 41
                    l131 218 
                    L0 199
                    Z"
        />
        <path id="eth_middle_right" d="m0 199
							v138
							l131-78" />
        <path id="eth_bottom_right" d="m0 362
							v107
							l131-185
							z" />
        <path
            id="eth_right"
            stroke-width="142"
            stroke-linejoin="miter"
            d="m71 263
                V2123 
                L863 1624
                Z"
            fill="none"
        />
        <path id="eth_right-back" stroke-width="142" stroke-linejoin="miter" d="m71 1230
                L825 1649" />
        <path
            id="eth_bottom"
            stroke-width="142"
            stroke-linejoin="miter"
            stroke-miterlimit="100"
            d="m71 2461
                L700 2063
                L71 2979
                Z"
            fill="none"
        />
        <g id="eth_bw" fill="black">
            <use href="#eth_top_right" />
            <use href="#eth_middle_right" />
            <use href="#eth_bottom_right" />
            <use href="#eth_top_right" transform="scale(-1,1)" />
            <use href="#eth_middle_right" transform="scale(-1,1)" />
            <use href="#eth_bottom_right" transform="scale(-1,1)" />
        </g>
        <g id="eth_grey">
            <use href="#eth_top_right" fill="#343434" />
            <use href="#eth_middle_right" fill="#141414" />
            <use href="#eth_bottom_right" fill="#3C3C3B" />
            <use href="#eth_top_right" fill="#8C8C8C" transform="scale(-1,1)" />
            <use href="#eth_middle_right" fill="#393939" transform="scale(-1,1)" />
            <use href="#eth_bottom_right" fill="#8C8C8C" transform="scale(-1,1)" />
        </g>
        <g id="eth_color_a">
            <use href="#eth_top_right" fill="#B8FBF6" />
            <use href="#eth_middle_right" fill="#CAB3F5" />
            <use href="#eth_bottom_right" fill="#C8B2F5" />
            <use href="#eth_top_right" fill="#EECBC0" transform="scale(-1,1)" />
            <use href="#eth_middle_right" fill="#87A9F0" transform="scale(-1,1)" />
            <use href="#eth_bottom_right" fill="#EECBC0" transform="scale(-1,1)" />
        </g>
        <g id="eth_color_b">
            <use href="#eth_top_right" fill="#F48B76" />
            <use href="#eth_middle_right" fill="#9D68AB" />
            <use href="#eth_bottom_right" fill="#647BBD" />
            <use href="#eth_top_right" fill="#F9EC66" transform="scale(-1,1)" />
            <use href="#eth_middle_right" fill="#50BB78" transform="scale(-1,1)" />
            <use href="#eth_bottom_right" fill="#10AFD3" transform="scale(-1,1)" />
        </g>
        <g id="eth_diamond">
            <use href="#eth_right-back" stroke="#CC71C2" />
            <use href="#eth_right" stroke="#FF9C92" />
            <use href="#eth_bottom" stroke="#5A9DED" />
            <use href="#eth_right-back" stroke="#88D848" transform="scale(-1,1)" />
            <use href="#eth_right" stroke="#FFE94D" transform="scale(-1,1)" />
            <use href="#eth_bottom" stroke="#53D3E0" transform="scale(-1,1)" />
        </g>
    </defs>

    <!-- Black rounded frame -->
    <rect width="100" height="140" rx="5" fill="black" />

    <!-- Colored inner rectangular frame -->
    <path id="frame" fill="#e9e9e97c" d="M6 4
		L4 6
		V124
		L6 126
		H94
		L96 124
		V6
		L94 4
		Z" />

    <!-- Wrapping frame -->
    <g filter="url(#shadow)">
        <use href="#framePath" fill="url(#patternBlurry)" />
        <use href="#framePath" fill="#e9e9e97c" fill-opacity=".7" />
        <use href="#framePath" fill="none" stroke="white" stroke-width=".5" stroke-opacity=".2" />
        <use
            href="#framePath"
            fill="none"
            stroke="white"
            stroke-width=".5"
            stroke-opacity=".1"
            stroke-dasharray="0 219.313708499 219.313708499"
        />
    </g>

    <!-- Title -->
    <g>
        <use href="#titlePath" filter="url(#glow)" fill="#e9e9e97c" />
        <use href="#titlePath" fill="#e9e9e97c" opacity=".9" />
        <g width="100" height="140" clip-path="url('#titleClip')">
            <g filter="url(#bevel)">
                <rect width="100" height="140" clip-path="url('#titleClipOutside')" />
            </g>
        </g>
        <text x="11" y="13" font-size="1.2em" class="fontTitle" font-weight="bold">Buterin Card</text>

        <rect
            id="numberWrap"
            height="5"
            rx="1"
            fill="#e9e9e97c"
            opacity=".9"
            filter="url(#glow)"
            transform="translate(83.5 8.8) scale(-1 1)"
        />
        <g id="g">
            <text
                id="tokenIdWithinPhase"
                x="82.8"
                y="13"
                class="fontTitle"
                font-size="1.2em"
                font-weight="bold"
                text-anchor="end"
            />
        </g>
        <circle cx="87" cy="11.3" r="2.5" fill="#e9e9e97c" opacity=".9" filter="url(#glow)" />
        <use id="ethSymbol" href="#eth_diamond" transform="translate(87 9) scale(.0014 .0014)" />
    </g>

    <!-- Buterin image -->
    <g filter="url(#glow)">
        <g clip-path="url(#imageClip)">
            <use id="painting" />
            <use id="artifact" />
        </g>
    </g>
    <g width="100" height="140" clip-path="url(#imageClip)">
        <g filter="url(#bevel)">
            <rect width="100" height="140" clip-path="url('#imageClipOutside')" />
        </g>
    </g>

    <!-- Subtitle -->
    <g>
        <use href="#subtitlePath" filter="url(#glow)" fill="#e9e9e97c" />
        <use href="#subtitlePath" fill="#e9e9e97c" opacity=".9" />
        <g width="100" height="140" clip-path="url('#subtitleClip')">
            <g filter="url(#bevel)">
                <rect width="100" height="140" clip-path="url('#subtitleClipOutside')" />
            </g>
        </g>
    </g>

    <!-- Description text area -->
    <g filter="url(#glow)">
        <use href="#descriptionPath" fill="#e9e9e97c" clip-path="url(#descriptionWithoutBrokenParts)" />
    </g>
    <use href="#descriptionPath" fill="#e9e9e97c" clip-path="url(#descriptionWithoutBrokenParts)" />
    <g width="100" height="140" clip-path="url(#descriptionWithoutBrokenParts)">
        <g filter="url(#bevel)">
            <rect width="100" height="140" clip-path="url(#descriptionClipOutside)" />
        </g>
    </g>
    <g id="descriptionText">
        <text id="line1" class="fontQuote" x="14" y="96" />
        <text id="line2" class="fontQuote" x="14" y="100" />
        <text id="line3" class="fontQuote" x="14" y="104" />
        <text id="line4" class="fontQuote" x="14" y="108" />
        <text id="line5" class="fontQuote" x="14" y="112" />
        <text id="line6" class="fontQuote" x="14" y="116" />
        <text id="line7" class="fontQuote" x="14" y="120" />
    </g>

    <!-- Bytesize -->
    <text font-weight="normal" x="16" y="128" class="fontTitle">
        <tspan font-size=".8em">Size =</tspan>
        <tspan id="lineKB" font-size=".8em" font-weight="bold" />
    </text>

    <!-- Card number -->
    <g transform="translate(1, 1)">
        <g filter="url(#glow)">
            <use fill="#e9e9e97c" href="#descriptionPath" clip-path="url(#descriptionWithCardNumberClip)" />
        </g>
        <use href="#descriptionPath" fill="#e9e9e97c" clip-path="url(#descriptionWithCardNumberClip)" />
        <g x="54" y="125" width="36" height="7" fill="red" clip-path="url(#descriptionWithCardNumberClip)">
            <g filter="url(#bevel)">
                <rect width="100" height="140" clip-path="url(#descriptionClipOutside)" />
            </g>
        </g>
        <text font-weight="normal" text-anchor="end" x="84" y="129" class="fontTitle">
            <tspan id="cardNumber" font-weight="bold" font-size="1.2em" />
            <tspan font-size=".8em">/ 2015</tspan>
        </text>
    </g>

    <script>
		<![CDATA[
            // Formatting title box
            const ethTitleElement = document.getElementById("ethSymbol");
            switch (phaseId) {
                case 0:
                    ethTitleElement.setAttribute("href", "#eth_pencil");
                    ethTitleElement.setAttribute("transform", "translate(85.5 9.1) scale(.015 .015)");
                    break;
                case 1:
                    ethTitleElement.setAttribute("href", "#eth_bw");
                    ethTitleElement.setAttribute("transform", "translate(87 8.7) scale(.01 .01)");
                    break;
                case 2:
                    ethTitleElement.setAttribute("href", "#eth_grey");
                    ethTitleElement.setAttribute("transform", "translate(87 8.7) scale(.01 .01)");
                    break;
                case 3:
                    ethTitleElement.setAttribute("href", "#eth_color_a");
                    ethTitleElement.setAttribute("transform", "translate(87 8.7) scale(.01 .01)");
                    break;
                case 4:
                    ethTitleElement.setAttribute("href", "#eth_color_b");
                    ethTitleElement.setAttribute("transform", "translate(87 8.7) scale(.01 .01)");
                    break;
                default:
            }

            // Add kilobytes text
            const kiloBytesStr = kiloBytes < 1000 ? kiloBytes.toLocaleString("en-US") + " KB" : (Math.round(kiloBytes /10) / 100).toLocaleString("en-US") + " MB";
            document.getElementById("lineKB").appendChild(document.createTextNode(kiloBytesStr));

            // Wait until fonts are loaded to format the text boxestokenId
            document.fonts.ready.then(() => {
                const tokenIdInPhaseElement = document.getElementById("tokenIdWithinPhase");
                tokenIdInPhaseElement.appendChild(document.createTextNode(tokenIdWithinPhase + 1));
                document.getElementById("numberWrap").setAttribute("width", tokenIdInPhaseElement.getBBox().width + 1.1);
            });

            // Setting the card ID
            document.getElementById("cardNumber").appendChild(document.createTextNode(`${tokenId + 1}`));

            // Pencil image or JPEG
            if (phaseId) document.getElementById("painting").setAttribute("href", "#vitalikImage");
            else document.getElementById("painting").setAttribute("href", "#vitalikPencil");
		]]>
	</script>
</svg>
